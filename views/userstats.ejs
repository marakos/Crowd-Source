<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Web</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
    <!--     Fonts and icons     -->

    <!-- CSS Files -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/assets/css/light-bootstrap-dashboard.css?v=2.0.0 " rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
</head>
<body>
<div class="wrapper">
    <div class="sidebar" data-color="blue" data-image="/assets/img/sidebar-5.jpg">
        <div class="sidebar-wrapper">
            <ul class="nav">
                <li >
                    <a class="nav-link" href="/dashboard">
                        <i class="nc-icon nc-chart-pie-35"></i>
                        <p>Dashboard</p>
                    </a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/userstats">
                        <i class="nc-icon nc-notes"></i>
                        <p>User Stats</p>
                    </a>
                </li>

                <li>
                    <a class="nav-link" href="/upload">
                        <i class="nc-icon nc-bell-55"></i>
                        <p>Upload Data</p>
                    </a>
                </li>
                <li>
                    <a class="nav-link" href="/logout" target="_self">
                        <i class="nc-icon nc-button-power"></i>
                        <p>Log out</p>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <div class="main-panel">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg " color-on-scroll="500">
            <div class="container-fluid">

                <div class="navbar-brand">
                    <h7><%= user.firstName %>  <%= user.lastName %> </h7>
                </div>
                <button href="" class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-bar burger-lines"></span>
                    <span class="navbar-toggler-bar burger-lines"></span>
                    <span class="navbar-toggler-bar burger-lines"></span>
                </button>
            </div>
        </nav>
            <!-- End Navbar -->
            <div class="content">
                <div class="container-fluid">
                    <div class="card">
                        <div class="card-header" style="padding-bottom: 0;">
                    <h4  class="card-title"> Επιλέξτε περίοδο που επιθυμείτε να δείτε : </h4>
                    <div class="row">
                        <div class="col-md-6">

                                <div class="search">
                                        <div id="reportrange" style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc; width: 100%">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                            <span></span> <i class="fa fa-caret-down"></i>
                                        </div>
                                            <button3 id="button3"type="submit" ><i class="fa fa-search"></i></button3>
                                 </div>
                            </div>


                    </div>

                    <div id="div1"class="row pt-2" style=" display: none">
                        <div class="col-sm-4">
                            <div class="card striped-tabled-with-hover">
<!--                                <div class="card-header ">-->
<!--                                    <h4 class="card-title" style="text-align: center">Leaderboard</h4>-->
<!--                                    <p class="card-category"style="text-align: center">Top 3 χρήστες με υψηλότερη οικολογική μετακίνηση</p>-->
<!--                                </div>-->
                                <div class="card-header table-full-width table-responsive"  style="overflow-x: scroll">
                                    <table   id="userStatsTable" class="table table-hover table-striped" style="text-align: center">
                                        <thead>
                                        <tr>
                                            <td style="text-align:center;"><b>Δραστηριότητα</b></td>
                                            <td style="text-align:center;"><b>Ποσοστό</b></td>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="card striped-tabled-with-hover">
                                <div class="card-header table-full-width table-responsive"  style="overflow-x: scroll">
                                    <table   id="userStatsTable2" class="table table-hover table-striped" style="text-align: center">
                                        <thead>
                                        <tr>
                                            <td style="text-align:center;"><b>Δραστηριότητα</b></td>
                                            <td style="text-align:center;"><b>Ήμερα</b></td>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="card striped-tabled-with-hover">
                                <!--                                <div class="card-header ">-->
                                <!--                                    <h4 class="card-title" style="text-align: center">Leaderboard</h4>-->
                                <!--                                    <p class="card-category"style="text-align: center">Top 3 χρήστες με υψηλότερη οικολογική μετακίνηση</p>-->
                                <!--                                </div>-->
                                <div class="card-header table-full-width table-responsive" style="overflow-x: scroll">
                                    <table id="userStatsTable3" class="table table-hover table-striped"
                                           style="text-align: center">
                                        <thead>
                                        <tr>
                                            <td style="text-align:center;"><b>Δραστηριότητα</b></td>
                                            <td style="text-align:center;"><b>Ώρα</b></td>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="div2"class="row" style="display: none">
                        <div class="col-md-12">
                            <div id="map" style="height: 400px"></div><br>
                        </div>
                    </div>
                </div>
            </div>
                </div>
            </div>
        </div>
    </div>
</body>
<!--   Core JS Files   -->
<script src="/assets/js/core/popper.min.js" type="text/javascript"></script>
<script src="/assets/js/core/bootstrap.min.js" type="text/javascript"></script>
<script src="/assets/js/plugins/bootstrap-switch.js"></script>
<script src="/assets/js/light-bootstrap-dashboard.js?v=2.0.0 " type="text/javascript"></script>
<script src="../assets/js/plugins/chartist.min.js"></script>
<script src="../assets/js/light-bootstrap-dashboard.js?v=2.0.0 " type="text/javascript"></script>
<script type="text/javascript" async defer src="/scripts/userStats.js"></script>
<script>
    var cords=[];
    function getCords(cords) {
        var heatmapData = [];
        for (var i = 0; i < cords.length; i++ ) {
            var gData = new google.maps.LatLng(cords[i].lat/10000000, cords[i].long/10000000);
            heatmapData.push(gData);
        }
        window.value=heatmapData;
        this.initMap()
    }
    function initMap() {
        var heatmapData=window.value;
        map = new google.maps.Map(document.getElementById('map'), {

            center: {lat: 38.230462, lng: 21.753150},
            zoom: 11
        });
        marker = new google.maps.Marker({
            position: {lat: 38.230462, lng: 21.753150},
            map: map,
            title: 'Patras,Greece!'
        });
        var heatmap = new google.maps.visualization.HeatmapLayer({
            data: heatmapData,
        });
        heatmap.setMap(map);
    }

</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBRDKnO3ejFtTNafaTmq7EDs_RnRpNrBZQ&callback&libraries=visualization" >
</script>
</html>
